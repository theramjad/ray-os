<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Video Revenue — 3-Day Post-Upload</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { background: #0a0a0a; color: #e0e0e0; font-family: -apple-system, system-ui, sans-serif; padding: 40px; }
  h1 { font-size: 24px; font-weight: 600; margin-bottom: 4px; }
  .subtitle { color: #888; font-size: 14px; margin-bottom: 32px; }
  .chart-container { position: relative; max-width: 1100px; height: 500px; margin-bottom: 48px; }
  .stats { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; max-width: 1100px; margin-bottom: 48px; }
  .stat { background: #151515; border: 1px solid #252525; border-radius: 10px; padding: 20px; }
  .stat-label { color: #888; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 6px; }
  .stat-value { font-size: 28px; font-weight: 700; }
  .stat-value.green { color: #4ade80; }
  .stat-value.blue { color: #60a5fa; }
  .stat-value.purple { color: #c084fc; }
  .stat-value.orange { color: #fb923c; }
  table { width: 100%; max-width: 1100px; border-collapse: collapse; font-size: 14px; }
  th { text-align: left; color: #888; font-weight: 500; padding: 10px 12px; border-bottom: 1px solid #252525; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px; }
  td { padding: 12px; border-bottom: 1px solid #1a1a1a; }
  tr:hover td { background: #151515; }
  .num { text-align: right; font-variant-numeric: tabular-nums; }
  .price-tag { display: inline-block; background: #1e1e2e; color: #c084fc; padding: 2px 8px; border-radius: 4px; font-size: 12px; }
</style>
</head>
<body>

<h1>Video Revenue — 3-Day Post-Upload Window</h1>
<p class="subtitle">Stripe charges (succeeded) in the 3 calendar days after each YouTube upload · Pulled 2026-02-27</p>

<div class="stats">
  <div class="stat">
    <div class="stat-label">Total Net Revenue</div>
    <div class="stat-value green">$60,751</div>
  </div>
  <div class="stat">
    <div class="stat-label">Total Sales</div>
    <div class="stat-value blue">615</div>
  </div>
  <div class="stat">
    <div class="stat-label">Avg Revenue / Video</div>
    <div class="stat-value purple">$6,075</div>
  </div>
  <div class="stat">
    <div class="stat-label">Price: Dec → Now</div>
    <div class="stat-value orange">$39 → $219</div>
  </div>
</div>

<div class="chart-container">
  <canvas id="revenueChart"></canvas>
</div>

<div class="chart-container" style="height: 400px;">
  <canvas id="priceChart"></canvas>
</div>

<table>
  <thead>
    <tr>
      <th>Video</th>
      <th>Upload</th>
      <th class="num">Sales</th>
      <th class="num">Gross</th>
      <th class="num">Net</th>
      <th class="num">Avg Order</th>
      <th>Base Price</th>
    </tr>
  </thead>
  <tbody id="tableBody"></tbody>
</table>

<script>
const data = [
  { title: "Added Features (Dec)", date: "Dec 10", sales: 44, gross: 1863, refunds: 127, net: 1736, avg: 42, basePrice: "$39–49" },
  { title: "Connected to Browser", date: "Dec 18", sales: 30, gross: 1586, refunds: 47, net: 1539, avg: 53, basePrice: "$47–59" },
  { title: "My Workflow for 2026", date: "Jan 2", sales: 86, gross: 5246, refunds: 158, net: 5088, avg: 61, basePrice: "~$56" },
  { title: "Biggest Update in Months", date: "Jan 8", sales: 168, gross: 11288, refunds: 260, net: 11028, avg: 67, basePrice: "~$60" },
  { title: "Added Features (Jan)", date: "Jan 19", sales: 130, gross: 16603, refunds: 442, net: 16161, avg: 128, basePrice: "~$122" },
  { title: "New Task System", date: "Jan 23", sales: 40, gross: 5649, refunds: 0, net: 5649, avg: 141, basePrice: "$122–187" },
  { title: "Agent Teams", date: "Feb 6", sales: 41, gross: 6501, refunds: 169, net: 6332, avg: 159, basePrice: "~$169" },
  { title: "Highest Point of Leverage", date: "Feb 15", sales: 20, gross: 3806, refunds: 0, net: 3806, avg: 190, basePrice: "~$219" },
  { title: "Dropped 17 Features", date: "Feb 21", sales: 25, gross: 4584, refunds: 80, net: 4504, avg: 183, basePrice: "~$219" },
  { title: "Dropped the Feature", date: "Feb 25", sales: 31, gross: 4913, refunds: 0, net: 4913, avg: 162, basePrice: "~$219" },
];

const labels = data.map(d => d.date);

// Revenue bar chart
new Chart(document.getElementById('revenueChart'), {
  type: 'bar',
  data: {
    labels,
    datasets: [
      {
        label: 'Net Revenue ($)',
        data: data.map(d => d.net),
        backgroundColor: data.map(d => d.net > 10000 ? '#4ade80' : d.net > 5000 ? '#60a5fa' : '#3b3b5c'),
        borderRadius: 6,
        borderSkipped: false,
        yAxisID: 'y',
      },
      {
        label: 'Sales Count',
        data: data.map(d => d.sales),
        type: 'line',
        borderColor: '#fb923c',
        backgroundColor: 'transparent',
        pointBackgroundColor: '#fb923c',
        pointRadius: 5,
        tension: 0.3,
        borderWidth: 2,
        yAxisID: 'y1',
      }
    ]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    interaction: { mode: 'index', intersect: false },
    plugins: {
      legend: { labels: { color: '#888', usePointStyle: true, padding: 20 } },
      tooltip: {
        callbacks: {
          title: (items) => {
            const i = items[0].dataIndex;
            return data[i].title;
          },
          label: (item) => {
            if (item.datasetIndex === 0) return ` Net: $${item.raw.toLocaleString()}`;
            return ` Sales: ${item.raw}`;
          },
          afterBody: (items) => {
            const i = items[0].dataIndex;
            return `  Avg order: $${data[i].avg}\n  Base price: ${data[i].basePrice}`;
          }
        }
      }
    },
    scales: {
      x: { ticks: { color: '#888' }, grid: { color: '#1a1a1a' } },
      y: {
        position: 'left',
        ticks: { color: '#888', callback: v => '$' + (v/1000).toFixed(0) + 'k' },
        grid: { color: '#1a1a1a' },
        title: { display: true, text: 'Net Revenue', color: '#888' }
      },
      y1: {
        position: 'right',
        ticks: { color: '#fb923c' },
        grid: { display: false },
        title: { display: true, text: 'Sales Count', color: '#fb923c' }
      }
    }
  }
});

// Price evolution chart
new Chart(document.getElementById('priceChart'), {
  type: 'line',
  data: {
    labels,
    datasets: [
      {
        label: 'Avg Order Value ($)',
        data: data.map(d => d.avg),
        borderColor: '#c084fc',
        backgroundColor: 'rgba(192, 132, 252, 0.1)',
        fill: true,
        pointBackgroundColor: '#c084fc',
        pointRadius: 6,
        tension: 0.3,
        borderWidth: 2,
      }
    ]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
      legend: { labels: { color: '#888', usePointStyle: true, padding: 20 } },
      tooltip: {
        callbacks: {
          title: (items) => data[items[0].dataIndex].title,
          label: (item) => ` Avg order: $${item.raw}`,
          afterBody: (items) => `  Base price: ${data[items[0].dataIndex].basePrice}`
        }
      }
    },
    scales: {
      x: { ticks: { color: '#888' }, grid: { color: '#1a1a1a' } },
      y: {
        ticks: { color: '#888', callback: v => '$' + v },
        grid: { color: '#1a1a1a' },
        title: { display: true, text: 'Avg Order Value', color: '#888' }
      }
    }
  }
});

// Table
const tbody = document.getElementById('tableBody');
data.forEach(d => {
  tbody.innerHTML += `<tr>
    <td>${d.title}</td>
    <td>${d.date}</td>
    <td class="num">${d.sales}</td>
    <td class="num">$${d.gross.toLocaleString()}</td>
    <td class="num">$${d.net.toLocaleString()}</td>
    <td class="num">$${d.avg}</td>
    <td><span class="price-tag">${d.basePrice}</span></td>
  </tr>`;
});
</script>
</body>
</html>
